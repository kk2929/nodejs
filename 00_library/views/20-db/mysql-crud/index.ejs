<!DOCTYPE html>
<html>

<head>
	<title><%= pageName %></title>
	<link rel='stylesheet' href='/manage/stylesheets/style.css' />
	<!-- jQueryのCDN -->
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
	<!-- jQuery UI -->
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
</head>

<body>
	<%- include(`${routespath}/../public/ejs/header`) %>
	<div class="css1">
		<input class="btn1" type="button" onclick="location.href='/manage/<%= filepath %>/create/'" value="create(新規作成)">
	</div>
	<hr />
	<table>
		<thead>
			<tr>
				<th>ID</th>
				<th>_int</th>
				<th>_varchar</th>
				<th>_datetime</th>
			</tr>
		</thead>
		<tbody class="indexTable">
			<% for (var i in data) { %>
			<% var id = data[i].id %>
			<tr data-href="/manage/<%= filepath %>/edit/<%= id %>/">
				<td><%= data[i].id %></td>
				<td><%= data[i]._int %></td>
				<td><%= data[i]._varchar %></td>
				<!-- 日付がnullだと.toFormat()でエラーが出るので、条件分岐する必要がある -->
				<% var d = data[i]._datetime %>
				<td><%- d ? d.toFormat('YYYY年MM月DD日') :'' %></td>
			</tr>
			<% } %>
		</tbody>
	</table>

	<script src="/manage/js/table-href.js"></script><!--  テーブル行をクリックでページ遷移  -->
	<script>
	</script>
</body>

</html>